+++
title = "CNCF案例研究：奇虎360"
date = "2019-02-12T18:07:31+02:00"
tags = ["cncf"]
categories = ["qihoo"]
author = "WilliamGuo"
authorLink = "https://wilhelmguo.cn"
banner = "img/banners/qihoo-case-study.png"
+++


公司：奇虎360

地点：中国北京

行业：计算机软件

挑战

中国软件巨头奇虎360科技的搜索部门，so.com是中国第二大搜索引擎，市场份额超过35％。该公司一直在使用传统的手动操作来部署环境，随着项目数量的不断增加，管理层希望提高服务器资源的利用率。“我们希望解决为大量项目构建运营环境的效率问题。”搜索云平台项目发起人之一郭少巍说。

解决方法

大约三年前，360开始规划容器云服务。该公司现在拥有完整的PaaS解决方案，该解决方案围绕Kubernetes编排、Prometheus监控、gRPC、CoreDNS和Harbor仓库，此外还使用Wayne（开源）部署项目。“我们主要在搜索部门的开发和交付过程中推广容器技术，以提供业务效率和服务质量。”郭说。
https://github.com/Qihoo360/wayne﻿

影响

自从切换到由Kubernetes管理容器，开发者开始编写新项目的业务需求代码的设置时间从2-6小时减少到10-30分钟。将应用程序部署到容器云环境后，服务器成本是最初在360使用的物理机解决方案的55％，以及之前传统虚拟化解决方案（VPS）的82％，同时确保相同的性能和可用性。此外，最近在一个小时内完成了大规模的计算机房迁移，这个迁移以前需要一周才能完成。

“Kubernetes提供了完整和高度集成的功能组件，我们只需少量的开发工作即可满足业务需求。”
- 郭少巍，奇虎360搜索云平台项目发起人之一

中国软件巨头奇虎360科技的搜索部门，so.com是中国第二大搜索引擎，市场份额超过35％。 

该公司一直在使用传统的手动操作来部署环境，随着项目数量的不断增加，管理层希望提高服务器资源的利用率。“我们希望解决为大量项目构建运营环境的效率问题。”搜索云平台项目发起人之一郭少巍说。

大约三年前，360开始规划容器云系统。“我们评估了三种编排技术，最终选择了Kubernetes，因为它提供了完整和高度集成的功能组件，”郭说，“我们只需要少量的开发工作就能满足业务需求。”

“将服务容器化并投入我们的云平台之后，完成两个计算机房的迁移只需一个小时左右，这是效率的极大提升。”
- 郭少巍，奇虎360搜索云平台项目发起人之一

该公司现在拥有完整的PaaS解决方案，该解决方案围绕Kubernetes编排、Prometheus监控、Harbor仓库和Wayne（开源）部署项目构建。该平台在很大程度上依赖于开源组件，包括CNCF项目gRPC和CoreDNS，以及InfluxDB、Kafka和Ceph。“我们主要在搜索部门的开发和交付过程中推广容器技术，以提供业务效率和服务质量。”郭说。

事实上，这些云原生技术带来了更高的效率。自从切换到由Kubernetes管理容器，开发者开始编写新项目的业务需求代码的设置时间已从2-6小时减少到10-30分钟。应用程序部署到容器云环境后，服务器成本是最初在360使用的物理机解决方案的55％，以及之前传统虚拟化解决方案（VPS）的82％，同时确保相同的性能和可用性。

“过去两年，我们的部门经历了两次大规模的计算机房迁移。过去，对于运营和开发而言，这是非常痛苦的，因为他们必须密切合作一周左右才能完成整个在线服务的迁移。”
- 郭少巍，奇虎360搜索云平台项目发起人之一

此外，最近在一个小时内完成了大规模的计算机房迁移，这个迁移以前需要一周才能完成。“我们的部门在过去两年里经历了两次大规模的计算机房迁移，”郭说。“过去，对于运营和开发而言，这是非常痛苦的，因为他们必须密切合作一周左右才能完成整个在线服务的迁移。但是，在将服务容器化并投入云平台之后，完成两个房间的迁移只需要一个小时左右，这是效率的极大提升。”

云平台仍处于早期阶段。“我们仍在推动FaaS的实施和业务应用，预计将有10-20％的业务迁移到平台。”郭说。

“对于初创公司或技术实力较弱的公司，我认为选择成熟的开源解决方案将使公司能够专注于业务需求，避免在基本平台开发的早期投入太多资源。”
- 郭少巍，奇虎360搜索云平台项目发起人之一

最后，该公司开源其平台项目Wayne。Wayne基于Kubernetes，以满足企业管理需求。该团队也非常乐意与其他想要沿着云原生路径前进的组织分享其经验和建议。“对于创业公司或技术实力较弱的公司，我认为选择成熟的开源解决方案将使公司能够专注于业务需求，避免在基本平台开发的早期投入太多资源，”郭说。最终，努力是值得的。对于360，“业务效率大大提高。”
 
原文链接：https://mp.weixin.qq.com/s/BrSWW2HYNxqQhRlIuJIXYA

英文原版：https://www.cncf.io/qihoo-case-study-2/
