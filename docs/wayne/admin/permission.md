# 权限管理

## 简介

Wayne 使用 RBAC（role-based access control）模式进行权限验证。
用户角色分别分为管理员用户和普通用户。

- 管理员: 管理员拥有系统所有权限，初始管理员账号为 admin:admin，可以创建多个管理员账户。

- 普通用户: 普通用户根据所对应的角色拥有不同的权限。

## 用户管理

点击权限-> 用户列表 可以看到当前系统所有的用户列表。系统默认使用 DB 方式登录，如果要禁用 DB 方式登录配置 src/backend/conf/app.conf
文件 EnableDBLogin = false 即可禁用 DB 登录。如果需要使用 ldap 登录，需要在配置文件中配置 ldap 相关参数。

![](../images/permission.png?classes=border,shadow)

点击创建用户可以添加新用户。点击列表左侧三个点会显示相应的操作，可以重置登录密码（仅在 DB 模式登录时有效），设置用户为系统管理员删除用户等。

## 权限管理

系统初始化完默认创建了系统默认的权限列表。对应每种资源的增删改查等操作。

## 角色管理

系统默认设置了一些角色，每个角色对应不用的权限。角色主要分为三类：

- Namespace：Namespace 级别的角色，可以管理对应 Namespace 的资源，例如用户，App 等资源。

- App: App 级别的角色，可以管理对应 App 下的资源，如 Deployment，Service 等资源。

- API： API 角色主要对应开放平台的接口。

## 使用示例

### 部门用户管理

管理员后台配置好用户角色和权限后，切换到前台需要授权的 Namespace，点击部门管理-> 成员管理：

![](../images/namespace-permission.gif?classes=border,shadow)

点击 **关联部门用户** 输入用户名，选择要赋予的权限，点击确定即可。赋予部门管理员权限的用户可以自行管理改部门下所有用户。

### 项目用户管理

用户要想操作项目下的具体资源，还需要拥有改项目的权限才可以。进去项目详情，点击成员管理-> 关联项目用户，赋予改用户项目相关权限即可。
